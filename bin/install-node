#!/usr/bin/bash

ENV_NODE_VERSION=${1:-"--lts"}

# Install nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash

source "$HOME"/.nvm/nvm.sh
nvm install ${ENV_NODE_VERSION}
nvm use $ENV_NODE_VERSION

# I think this is needed to get around the .bashrc only being used in execute mode
echo "nvm use default &>/dev/null" >> ~/.bashrc.d/51-nvm-fix

