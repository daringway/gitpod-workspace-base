#!/usr/bin/bash

# sudo apt update
# sudo apt install software-properties-common

if [[ -v ENV_AWS_CLI_VERSION || -v ENV_AMPLIFY_CLI_VERSION ]]
then
    echo "**** install-aws-cli ****"
    install-aws-cli $ENV_AWS_CLI_VERSION
fi

if [[ -v ENV_NODE_VERSION || -v ENV_YARN_VERSION || -v ENV_AMPLIFY_CLI_VERSION ]]
then
    echo "**** install-node ****"
    install-node ${ENV_NODE_VERSION:-latest} ${ENV_YARN_VERSION:-latest}
    . ~/.nvm/nvm.sh
fi

if [[ -v ENV_PYTHON_VERSION ]]
then
    echo "**** install-python ****"
    install-node ${ENV_PYTHON_VERSION}
fi

if [[ -v ENV_AMPLIFY_CLI_VERSION ]]
then
    echo "**** install-amplify-cli ****"
    install-amplify-cli ${ENV_AMPLIFY_CLI_VERSION}
fi